ORG 00H

MOV R3, #00H
MOV R1, #021H

MOV R0, #40H

INSERT:
	MOV A, R3
	MOV @R0, A
	INC R0
	INC R3
	DJNZ R1, INSERT
	
MOV R0, #040H
MOV R1, #061H
MOV R3, #021H

MOV R2, #00H ;no. of prime number 

CHECK_PRIME:

   ; for 1 and 0
	CLR C
	MOV A, @R0
	SUBB A, #02H
	JC NOT_PRIME
	
	MOV A, @R0
	MOV B, #02H
	DIV AB
	MOV R4, A
	MOV R6, #01H
	
	MAIN_LOOP: 
	INC R6	
	CLR C
	MOV A, R4
	SUBB A, R6
	JC IS_PRIME
	
	MOV A, @R0
	MOV B, R6
	DIV AB
	MOV A, B
	CLR C
	SUBB A, #0H
	JZ NOT_PRIME

	SJMP MAIN_LOOP
	
	IS_PRIME: 
		INC R2 
		MOV A, @R0
		MOV @R1, A
		INC R1
		
	NOT_PRIME:
		INC R0
		
DJNZ R3, CHECK_PRIME

MOV A, R6
MOV R6, A
MOV R0, #71H
MOV @R0, A

OUTER_DISPLAY:
MOV R0, #61H
MOV A, R6 
MOV R2, A

DISPLAY:
MOV A, @R0
MOV P0, A
INC R0
LCALL DELAY
DJNZ R2, DISPLAY
SJMP OUTER_DISPLAY

DELAY:
MOV R3, #0FFH
DOUTER:
MOV R4, #0FFH 
DINNER:
DJNZ R4, DINNER
DJNZ R3, DOUTER
RET

END